import{j as e,r as c,L as d}from"./index-DW96NFn9.js";import{a as m,b as u,c as p,F as h,g as f,d as n,S as i}from"./index-luwRJ7YA.js";const g=({item:s})=>e.jsxs("div",{className:"border w-full rounded-lg p-4 dark:shadow-[rgba(200,215,255,0.1)_20px_20px_100px]  bg-white text-gray-600 dark:bg-gray-800 dark:text-white flex flex-col gap-2 mt-5",children:[e.jsxs("h2",{className:"text-lg font-semibold font-serif",children:["ITEM ID: ",s.id]}),e.jsxs("p",{className:"text-sm flex items-center truncate",children:[e.jsx(m,{className:"mr-2 text-blue-500"})," Location: ",s.location]}),e.jsxs("p",{className:"text-sm flex items-center",children:[e.jsx(u,{className:"mr-2 text-green-500"})," Date: ",s.date]}),e.jsxs("p",{className:"text-sm flex items-center",children:[e.jsx(p,{className:"mr-2 text-yellow-500"}),e.jsx("span",{className:"font-semibold",children:"Severity:"})," ",e.jsx("span",{className:`ml-2 px-2 py-1 rounded font-mono ${s.severity==="High"?"bg-red-500 text-white":s.severity==="Moderate"?"bg-yellow-500 text-white":"bg-green-500 text-white"}`,children:s.severity})]}),e.jsxs("p",{className:"text-sm flex items-center",children:[e.jsx(h,{className:"mr-2 text-red-500"})," Vehicles Involved: ",s.vehicles_involved]}),e.jsxs("p",{className:"text-sm flex items-center",children:[e.jsx(f,{className:"mr-2 text-purple-500"})," Cause: ",s.cause]})]}),j=({input:s,datas:a})=>{const l=new RegExp(`^${s}`,"i");return a.filter(r=>l.test(r.location))};let o;function N(s,a){const[l,r]=c.useState(n);return c.useEffect(()=>(o=setTimeout(()=>{if(console.log("Check"),s==""){r(n);return}const t=j({input:s,datas:n});console.log(t),r(t)},a),()=>clearTimeout(o)),[s,a]),l}const b=300,y=()=>{const[s,a]=c.useState(""),l=N(s,b),r=t=>{a(t.target.value)};return e.jsxs("div",{className:"p-2 md:p-5 w-full",children:[e.jsx(i,{className:"",title:"Incidents"}),e.jsx("div",{className:"my-4",children:e.jsx("input",{type:"text",value:s,onChange:r,placeholder:"Search Incidents....",className:"px-3 py-1 rounded-md text-black border-current border-[1px] outline-none"})}),e.jsxs("div",{className:"flex flex-wrap gap-3 justify-center xl:justify-start",children:[l.map((t,x)=>e.jsx(d,{className:"w-full md:w-[48%] lg:w-[30%] xl:w-[23%]",to:`/incidents/${t.id}`,children:e.jsx(g,{item:t})},x)),l.length==0&&e.jsx(i,{className:"mx-auto",title:"No Results For The Searched Input"})]})]})};export{y as default};
